{% extends 'my_portfolio/base.html' %}
{% load static %}
{% block content %}

<!-- ===== HERO SECTION ===== -->
<div class="text-center">
  {% if photos %}
    <img src="{{ photos.0.image.url }}" class="rounded-circle shadow"
         width="150" height="150" alt="Profile Photo">
  {% endif %}

  <h1 class="mt-3">{{ name }}</h1>
  <p class="text-muted">{{ bio }}</p>

  <h4>Skills</h4>
  {% for skill in skills %}
    <span class="badge bg-primary m-1">{{ skill }}</span>
  {% endfor %}
</div>

<hr>

<!-- ===== PROJECT SECTION ===== -->
<h3 class="mt-5 text-center">My Projects</h3>
<div class="row mt-3">
  {% for p in projects %}
  <div class="col-md-4">
    <div class="card mb-3 shadow-sm">
      {% if p.image %}
      <img src="{{ p.image.url }}" class="card-img-top" alt="Project Image">
      {% endif %}
      <div class="card-body">
        <h5 class="card-title">{{ p.title }}</h5>
        <p class="card-text">{{ p.description }}</p>

        {% if p.link %}
          <a href="{{ p.link }}" target="_blank" class="btn btn-sm btn-dark">View</a>
        {% endif %}
      </div>
    </div>
  </div>
  {% empty %}
  <p class="text-center">No projects added yet.</p>
  {% endfor %}
</div>

<hr>

<!-- ===== CERTIFICATE SECTION ===== -->
<h3 class="mt-5 text-center">My Certificates</h3>
<div class="row mt-3">
  {% for c in certificates %}
    <div class="col-md-4">
      <div class="card mb-3 shadow-sm">
        <img src="{{ c.image.url }}" class="card-img-top" alt="Certificate">
        <div class="card-body text-center">
          <h6 class="card-title">{{ c.title }}</h6>
        </div>
      </div>
    </div>
  {% empty %}
    <p class="text-center">No certificates uploaded yet.</p>
  {% endfor %}
</div>

<hr>

<!-- ===== CONTACT FORM ===== -->
<h3 class="mt-5 text-center">Contact Me</h3>
<form method="post" class="mt-3 col-md-6 mx-auto border p-3 rounded bg-white">
  {% csrf_token %}
  <input type="text" name="name" class="form-control mb-2" placeholder="Your Name" required>
  <input type="email" name="email" class="form-control mb-2" placeholder="Your Email" required>
  <input type="text" name="subject" class="form-control mb-2" placeholder="Subject" required>
  <textarea name="message" rows="4" class="form-control mb-2" placeholder="Message" required></textarea>
  <button type="submit" class="btn btn-primary w-100">Send Message</button>
</form>

{% if messages %}
  <div class="alert alert-success text-center mt-3">
    {% for m in messages %}
      {{ m }}
    {% endfor %}
  </div>
{% endif %}

<!-- ===== SOCIAL LINKS ===== -->
<div class="text-center mt-4 mb-5">
  <h5>Follow Me</h5>
  <a href="{{ socials.github }}" class="m-2" target="_blank">GitHub</a> |
  <a href="{{ socials.linkedin }}" class="m-2" target="_blank">LinkedIn</a> |
  <a href="mailto:{{ socials.email }}" class="m-2">Email</a>
</div>

{% endblock %}
